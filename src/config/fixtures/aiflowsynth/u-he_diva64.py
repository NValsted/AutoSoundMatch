from src.config.paths import get_project_root
from src.config.registry_sections import SynthSection, TrainMetadataSection
from src.flow_synthesizer.enums import LossEnum, SchedulerModeEnum

train_metadata_config = TrainMetadataSection(
    in_dim=[128, 87],
    out_dim=64,
    epochs=500,
    batch_size=64,
    time_limit=None,
    loss=LossEnum.mse,
    learning_rate=2e-4,
    scheduler_mode=SchedulerModeEnum.min,
    scheduler_factor=0.5,
    scheduler_patience=20,
    scheduler_verbose=True,
    scheduler_threshold=1e-7,
    beta_factor=1.0,
    reg_factor=1e3,
    start_regress=1e2,
    warm_regress=1e2,
    warm_latent=50,
)

synth_config = SynthSection(
    synth_path=get_project_root() / "data" / "synth" / "Diva(x64).dll",
    locked_parameters={
        "main: Output": 0.37,
        "main: Active #FX1": 0.0,
        "main: Active #FX2": 1.0,
        "PCore: LED Colour": 0.0,
        "VCC: Voices": 0.571429,
        "VCC: Voice Stack": 0.0,
        "VCC: Mode": 0.0,
        "VCC: GlideMode": 0.0,
        "VCC: Glide": 0.08,
        "VCC: Glide2": 0.5,
        "VCC: GlideRange": 1.0,
        "VCC: PitchBend Up": 0.115385,
        "VCC: PitchBend Down": 0.269231,
        "VCC: TuningMode": 0.0,
        "VCC: Transpose": 0.25,
        "VCC: FineTuneCents": 0.5,
        "VCC: Note Priority": 0.0,
        "VCC: MultiCore": 0.0,
        "OPT: Accuracy": 0.666667,
        "OPT: OfflineAcc": 0.0,
        "OPT: TuneSlop": 0.25,
        "OPT: CutoffSlop": 0.16,
        "OPT: GlideSlop": 0.24,
        "OPT: PWSlop": 0.33,
        "OPT: EnvrateSlop": 0.26,
        "OPT: V1Mod": 0.5,
        "OPT: V2Mod": 0.5,
        "OPT: V3Mod": 0.5,
        "OPT: V4Mod": 0.5,
        "OPT: V5Mod": 0.5,
        "OPT: V6Mod": 0.5,
        "OPT: V7Mod": 0.5,
        "OPT: V8Mod": 0.5,
        "ENV1: Model": 0.0,
        "ENV1: Trigger": 0.0,
        "ENV1: Quantise": 0.0,
        "ENV1: Curve": 0.0,
        "ENV1: Release On": 1.0,
        "ENV2: Model": 0.0,
        "ENV2: Trigger": 0.0,
        "ENV2: Quantise": 0.0,
        "ENV2: Curve": 0.0,
        "ENV2: Release On": 0.0,
        "LFO1: Sync": 0.0384615,
        "LFO1: Restart": 1.0,
        "LFO1: Waveform": 0.0,
        "LFO1: DepthMod Src1": 0.0434783,
        "LFO1: FreqMod Src1": 0.0434783,
        "LFO1: FreqMod Dpt": 0.56,
        "LFO2: Sync": 0.0384615,
        "LFO2: Restart": 0.333333,
        "LFO2: Waveform": 0.142857,
        "LFO2: DepthMod Src1": 0.0,
        "LFO2: FreqMod Src1": 0.0,
        "MOD: Quantise": 0.0,
        "MOD: RectifySource": 0.0,
        "MOD: InvertSource": 0.0,
        "MOD: QuantiseSource": 0.0,
        "MOD: LagSource": 0.652174,
        "MOD: AddSource1": 0.26087,
        "MOD: AddSource2": 0.304348,
        "MOD: MulSource1": 0.0,
        "MOD: MulSource2": 0.0,
        "OSC: Model": 0.0,
        "OSC: Sync2": 0.0,
        "OSC: PulseShape": 0.0,
        "OSC: SawShape": 0.2,
        "OSC: SuboscShape": 0.0,
        "OSC: Tune1ModSrc": 0.652174,
        "OSC: Tune2ModSrc": 0.73913,
        "OSC: Tune2ModDepth": 0.5,
        "OSC: PWModSrc": 0.73913,
        "OSC: ShapeSrc": 0.73913,
        "OSC: ShapeDepth": 0.5,
        "OSC: Triangle1On": 0.0,
        "OSC: Sine2On": 0.0,
        "OSC: Saw1On": 1.0,
        "OSC: Pwm1On": 0.0,
        "OSC: Triangle2On": 0.0,
        "OSC: Saw2On": 0.0,
        "OSC: Pulse2On": 1.0,
        "OSC: PWM2On": 1.0,
        "OSC: Noise1On": 0.0,
        "OSC: ShapeModel": 0.5,
        "OSC: Sync3": 0.0,
        "OSC: NoiseColor": 0.0,
        "OSC: TuneModOsc1": 0.0,
        "OSC: TuneModOsc2": 0.0,
        "OSC: TuneModOsc3": 0.0,
        "OSC: ShapeModOsc1": 0.0,
        "OSC: ShapeModOsc2": 0.0,
        "OSC: ShapeModOsc3": 0.0,
        "OSC: TuneModMode": 1.0,
        "OSC: EcoWave1": 0.0,
        "OSC: EcoWave2": 0.0,
        "OSC: RingmodPulse": 0.0,
        "OSC: Drift": 0.21,
        "OSC: FmModSrc": 0.0,
        "OSC: FmModDepth": 0.5,
        "OSC: NoiseVolModSrc": 0.0,
        "OSC: NoiseVolModDepth": 0.5,
        "HPF: Model": 0.0,
        "HPF: Revision": 0.0,
        "HPF: KeyFollow": 0.0,
        "HPF: FreqModSrc": 0.652174,
        "HPF: FreqModDepth": 0.5,
        "HPF: Post-HPF Freq": 0.0,
        "VCF1: Model": 0.0,
        "VCF1: FreqModSrc": 0.913043,
        "VCF1: FreqMod2Src": 0.956522,
        "VCF1: LadderMode": 0.0,
        "VCF1: LadderColor": 1.0,
        "VCF1: SlnKyRevision": 0.0,
        "VCF1: SvfMode": 0.0,
        "VCF1: ResModSrc": 0.0,
        "VCF1: FmAmountModSrc": 0.0,
        "VCF1: FeedbackModSrc": 0.0,
        "VCF1: FeedbackModDepth": 0.5,
        "VCA1: Pan": 0.5,
        "VCA1: VCA": 1.0,
        "VCA1: Modulation": 0.695652,
        "VCA1: PanModulation": 0.0,
        "VCA1: Mode": 0.0,
        "VCA1: Offset": 0.44,
        "Scope1: Frequency": 0.1875,
        "Scope1: Scale": 0.6,
        "FX1: Module": 0.0,
        "Chrs1: Type": 0.5,
        "Phase1: Type": 0.0,
        "Phase1: Rate": 0.5,
        "Phase1: Feedback": 0.0,
        "Phase1: Stereo": 0.5,
        "Phase1: Sync": 0.0,
        "Phase1: Phase": 0.0,
        "Phase1: Wet": 1.0,
        "Plate1: PreDelay": 0.0,
        "Plate1: Damp": 0.8,
        "Plate1: Decay": 0.5,
        "Plate1: Size": 0.748744,
        "Plate1: Dry": 0.9,
        "Delay1: Left Delay": 0.0666667,
        "Delay1: Center Delay": 0.2,
        "Delay1: Right Delay": 0.2,
        "Delay1: Side Vol": 0.2,
        "Delay1: Center Vol": 0.0,
        "Delay1: Feedback": 0.25,
        "Delay1: HP": 0.0,
        "Delay1: LP": 1.0,
        "Delay1: Dry": 1.0,
        "Delay1: Wow": 0.5,
        "Rtary1: Mode": 0.0,
        "Rtary1: Mix": 1.0,
        "Rtary1: Balance": 0.5,
        "Rtary1: Stereo": 1.0,
        "Rtary1: Out": 0.5,
        "Rtary1: Slow": 0.3,
        "Rtary1: RiseTime": 0.5,
        "Rtary1: Controller": 0.0,
        "FX2: Module": 0.5,
        "Chrs2: Type": 0.0,
        "Chrs2: Rate": 0.5,
        "Chrs2: Depth": 0.5,
        "Chrs2: Wet": 1.0,
        "Phase2: Type": 0.0,
        "Phase2: Rate": 0.5,
        "Phase2: Feedback": 0.0,
        "Phase2: Stereo": 0.5,
        "Phase2: Sync": 0.0,
        "Phase2: Phase": 0.0,
        "Phase2: Wet": 1.0,
        "Plate2: PreDelay": 0.0,
        "Plate2: Decay": 0.45,
        "Plate2: Dry": 0.8,
        "Plate2: Wet": 0.1,
        "Delay2: Left Delay": 0.0666667,
        "Delay2: Center Delay": 0.2,
        "Delay2: Right Delay": 0.2,
        "Delay2: Side Vol": 0.2,
        "Delay2: Center Vol": 0.0,
        "Delay2: Feedback": 0.25,
        "Delay2: HP": 0.0,
        "Delay2: LP": 1.0,
        "Delay2: Dry": 1.0,
        "Delay2: Wow": 0.5,
        "Rtary2: Mode": 0.0,
        "Rtary2: Mix": 1.0,
        "Rtary2: Balance": 0.5,
        "Rtary2: Drive": 0.0,
        "Rtary2: Stereo": 1.0,
        "Rtary2: Out": 0.5,
        "Rtary2: Slow": 0.3,
        "Rtary2: Fast": 0.85,
        "Rtary2: RiseTime": 0.5,
        "Rtary2: Controller": 0.0,
        "CLK: Multiply": 0.333333,
        "CLK: TimeBase": 0.666667,
        "CLK: Swing": 0.0,
        "ARP: Direction": 0.2,
        "ARP: Octaves": 0.0,
        "ARP: Multiply": 0.0,
        "ARP: Restart": 0.0,
        "ARP: OnOff": 0.0,
        "OSC: DigitalShape3": 0.5,
        "VCF1: ShapeMix": 0.0,
        "VCF1: ShapeModSrc": 0.73913,
        "VCF1: ShapeModDepth": 0.5,
        "VCF1: UhbieBandpass": 0.0,
        "ARP: Order": 0.0,
        "LFO1: Polarity": 0.0,
        "LFO2: Polarity": 0.0,
        "Phase1: Depth": 1.0,
        "Phase1: Center": 0.5,
        "Phase2: Depth": 1.0,
        "Phase2: Center": 0.5,
        "OSC: DigitalType1": 0.0,
        "OSC: DigitalType2": 0.0,
        "OSC: DigitalAntiAlias": 0.0,
    },
)
